<%- include('partials/header') %>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="/css/admin.css">

<div class="container mt-5">
    <h1 class="text-center mb-4">Edit Project</h1>
    <form action="/admin/edit/<%= project.id %>" method="POST" class="p-4 bg-white shadow rounded">
        <div class="row g-3">
            <div class="col-md-12">
                <label for="title" class="form-label fw-bold">Project Title</label>
                <input type="text" class="form-control" id="title" name="title" value="<%= project.title %>" required>
            </div>

            <div class="col-md-12">
                <label for="description" class="form-label fw-bold">Description</label>
                <textarea class="form-control" id="description" name="description" rows="3" required><%= project.description %></textarea>
            </div>

            <div class="col-md-6">
                <label for="github_link" class="form-label fw-bold">GitHub Link</label>
                <input type="url" class="form-control" id="github_link" name="github_link" value="<%= project.github_link %>">
            </div>

            <div class="col-md-6">
                <label for="live_demo" class="form-label fw-bold">Live Demo</label>
                <input type="url" class="form-control" id="live_demo" name="live_demo" value="<%= project.live_demo %>">
            </div>

            <div class="col-md-12">
                <label for="video_url" class="form-label fw-bold">Video URL (Amazon S3)</label>
                <input type="url" class="form-control" id="video_url" name="video_url" value="<%= project.video_url %>">
            </div>

            <div class="col-md-6">
                <label for="background_img" class="form-label fw-bold">Background Image URL (Amazon S3)</label>
                <input type="url" class="form-control" id="background_img" name="background_img" value="<%= project.background_img %>">
                <div class="mt-2">
                    <img src="<%= project.background_img %>" class="img-thumbnail w-100">
                </div>
            </div>

            <div class="col-md-6">
                <label for="img2" class="form-label fw-bold">Image 2 URL (Amazon S3)</label>
                <input type="url" class="form-control" id="img2" name="img2" value="<%= project.img2 %>">
                <div class="mt-2">
                    <img src="<%= project.img2 %>" class="img-thumbnail w-100">
                </div>
            </div>

            <div class="col-md-6">
                <label for="img3" class="form-label fw-bold">Image 3 URL (Amazon S3)</label>
                <input type="url" class="form-control" id="img3" name="img3" value="<%= project.img3 %>">
                <div class="mt-2">
                    <img src="<%= project.img3 %>" class="img-thumbnail w-100">
                </div>
            </div>

            <div class="col-md-6">
                <label for="img4" class="form-label fw-bold">Image 4 URL (Amazon S3)</label>
                <input type="url" class="form-control" id="img4" name="img4" value="<%= project.img4 %>">
                <div class="mt-2">
                    <img src="<%= project.img4 %>" class="img-thumbnail w-100">
                </div>
            </div>

            <div class="col-md-12">
                <h4 class="fw-bold mt-4">Walkthrough Steps</h4>
            </div>

            <div class="col-md-4">
                <label for="walkthrough_step1" class="form-label">Step 1</label>
                <input type="text" class="form-control" id="walkthrough_step1" name="walkthrough_step1" value="<%= project.walkthrough_step1 %>">
            </div>

            <div class="col-md-4">
                <label for="walkthrough_step2" class="form-label">Step 2</label>
                <input type="text" class="form-control" id="walkthrough_step2" name="walkthrough_step2" value="<%= project.walkthrough_step2 %>">
            </div>

            <div class="col-md-4">
                <label for="walkthrough_step3" class="form-label">Step 3</label>
                <input type="text" class="form-control" id="walkthrough_step3" name="walkthrough_step3" value="<%= project.walkthrough_step3 %>">
            </div>

            <div class="col-md-12 text-center mt-4" style="display:flex; gap:1rem; justify-content:center;">
                <button type="submit" class="btn btn-primary btn-lg">Update Project</button>
                <form action="/admin/delete/<%= project.id %>" method="POST" onsubmit="return confirm('Delete this project? This will remove it from public view.');">
                    <button type="submit" class="btn btn-danger btn-lg">Delete Project</button>
                </form>
            </div>
        </div>
    </form>
</div>

<%- include('partials/footer') %>
